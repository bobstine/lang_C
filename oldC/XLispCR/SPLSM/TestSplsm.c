/*	Debugging X-Lisp Code Resources	*/#include <stdlib.h>#include <stdio.h>#include "splsm.h"#include "debug.h"#define LENGTH 35	static long   code      = 3;	static double penalty   = 1.0;	static double dfOffset  = 3.0;	static double x[LENGTH];	static double y[LENGTH];	static double w[LENGTH];	static long   len       = LENGTH;	static double knots[LENGTH+6] ;	static long   nk = LENGTH+6 - 4;	static double coef[LENGTH+6 - 4];	static double smooth[LENGTH];	static double lev[LENGTH];	static double crit = 1.0;	static long   icrit[2] = {3,0};	static double spar = 1.0, rspar[3] = {0.0, 1.5, 0.001};	static long   isetup = 0;	static double scratch[(LENGTH+2)*(LENGTH+19)];	static long   four = 4, one = 1, err = 0;void AllocParms (long n, XLSXblock *parms);void SetupParms (XLSXblock *parms);void FillData(void);void FillData(){	int i;		for (i=0; i<LENGTH; ++i)	{	x[i] = (double) i / (double) (LENGTH-1);		y[i] = (double) rand();		w[i] = 1.0;		knots[i+3] = x[i];	}	knots[0] = knots[1] = knots[2] = 0.0;	knots[LENGTH+5] = knots[LENGTH+4] = knots[LENGTH+3] = 1.0;}void AllocParms (n, parms)long n;XLSXblock *parms;{	parms->argc = n;	parms->argv = malloc(n * sizeof(char *));}void SetupParms (parms)XLSXblock *parms;{	parms->argv[ 0] = (char *) &code;	parms->argv[ 1] = (char *) &penalty;	parms->argv[ 2] = (char *) &dfOffset;	parms->argv[ 3] = (char *)  x;	parms->argv[ 4] = (char *)  y;	parms->argv[ 5] = (char *)  w;	parms->argv[ 6] = (char *) &len;	parms->argv[ 7] = (char *)  knots;	parms->argv[ 8] = (char *) &nk;	parms->argv[ 9] = (char *)  coef;	parms->argv[10] = (char *)  smooth;	parms->argv[11] = (char *)  lev;	parms->argv[12] = (char *) &crit;	parms->argv[13] = (char *)  icrit;	parms->argv[14] = (char *) &spar;	parms->argv[15] = (char *)  rspar;	parms->argv[16] = (char *) &isetup;	parms->argv[17] = (char *)  scratch;	parms->argv[18] = (char *) &four;	parms->argv[19] = (char *) &one;	parms->argv[20] = (char *) &err;}main(){		XLSXblock parms;	int i;	double sumLev;	FillData();	AllocParms (21, &parms);	SetupParms (&parms);	splsm (&parms);	/* PrintDoubleVec (smooth, LENGTH, "Smooth");    */	/* PrintDoubleVec (lev   , LENGTH, "Leverages"); */	sumLev = 0.0;	for (i=0; i<LENGTH; ++i)		sumLev += lev[i];	printf ("With icrit[0] = %ld and dfOff = %lf, crit became %lf \n",icrit[0], dfOffset, crit);	printf ("  the sum of the leverages is %lf \n", sumLev);	}