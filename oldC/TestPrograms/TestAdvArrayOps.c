#include <strings.h>#include "Utils.h"#include "ArrayDef.h"#include "InOut.h"#include "ElemArrayOps.h"#include "AdvArrayOps.h"#define VECLEN 3#define MATCOLS  3#ifdef PROTOint printf(...);int main(void);void ZeroMatrix (MATRIX *);#elseint printf();#endifvoid ZeroMatrix (mat)MATRIX *mat;{	int i,j;		for (i=0; i<mat->nRows; ++i)		for (j=0; j<mat->nCols; ++j)			mat->pntr[j][i] = 0.0;}main (){	VECTOR vec, lagProd, vecCopy;	MATRIX mat, matCopy, result;		int i,j;		AllocVector (VECLEN, &vec);	AllocVector (VECLEN, &vecCopy);	AllocVector (3, &lagProd);		AllocMatrix (MATCOLS, MATCOLS, &mat);	AllocMatrix (MATCOLS, MATCOLS, &matCopy);	AllocMatrix (MATCOLS, MATCOLS, &result);		for (i=0; i<VECLEN; ++i)	{	vec.pntr[i] = (double)i;		for (j=0; j<MATCOLS; ++j)			mat.pntr[j][i] = (double)i;	}	for (i = 0; i<MATCOLS; ++i)		/* make lower triangular & add 1 to upper */		for (j = 0; j<MATCOLS; ++j)		{	if (j < i)				mat.pntr[j][i] = 0.0;			else				mat.pntr[j][i] += 1.0;		}	PrintMatrix (&mat, "upper triangular");	mat.pntr[0][2] = 1.0;	PrintMatrix(&mat, "Altering mat to be non-triangular");	ZeroMatrix (&result);	FactorMatrix (&mat, &result);	PrintMatrix (&result, "Factor of mat");	MultMatrix(&result,&result,1,&matCopy);	PrintMatrix (&matCopy, "Factor' times Factor");		ZeroMatrix (&result);	for (j=0; j<matCopy.nCols; ++j)		for (i=0; i<matCopy.nRows; ++i)			matCopy.pntr[j][i] = vec.pntr[i];	PrintMatrix (&mat, "mat on entry to multi");	PrintMatrix (&matCopy, "soln vectors");	SolveMultiSystem (&mat, &matCopy, &result);	DebugStr(c2pstr("Pst SMS"));	PrintMatrix (&result, "Soln from 3 identical vec's");		ZeroMatrix (&matCopy);	ZeroMatrix (&result);	InvertMatrix (&mat, &matCopy);	PrintMatrix (&matCopy, "Inverse from usual compuation");	MultMatrix (&matCopy, &mat, 0, &result);	PrintMatrix (&result, "Mult mat times inv");		PrintVector (&vec, "Initial vector");	CopyVector (&vec, &vecCopy);	PrintMatrix (&mat, "Initial matrix");	CopyMatrix (&mat, &matCopy);			TransMatrix (&mat);	PrintMatrix (&mat, "Transposed matrix");		MultMatrix (&mat, &mat, 0, &matCopy);	PrintMatrix (&matCopy, "Product MM");	MultMatrix (&mat, &mat, 1, &matCopy);	PrintMatrix (&matCopy, "Product M'M");		ZeroMatrix (&matCopy);	InvertTriMatrix (&mat, &matCopy);	PrintMatrix (&matCopy, "Inverse of upper tri");		ZeroMatrix (&result);	MultMatrix (&mat, &matCopy, 0, &result);	PrintMatrix (&result,"Product with inverse");		SolveLinearSystem (&mat, &vec, &vecCopy);	PrintVector (&vecCopy, "Soln of mat x = vec");		}