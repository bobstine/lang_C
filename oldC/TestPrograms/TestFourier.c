/*			Test Code for Fourier transforms			31 Mar 88 ... Test new Fourier routine.		26 Mar 88 ... Created from one code block.*/#include <stdio.h>#include "ArrayDef.h"#include "InOut.h"#include "FourierTrans.h"#ifdef PROTO	int main(void);	int printf (...);#endif#define NREPS	1	#define LENGTH	16		main(){	int i;	MATRIX inputPair, out1, out2, input;	VECTOR data, kernel;		AllocMatrix (LENGTH, 2, &input);	for (i=0; i<LENGTH; ++i)	{	input.pntr[0][i] = (double)i;		input.pntr[1][i] = 0.0;	}	ftTransform (1, &input);			AllocVector (LENGTH, &data);	AllocVector (LENGTH, &kernel);		AllocMatrix (LENGTH, 2, &out1);	AllocMatrix (LENGTH, 2, &out2);	AllocMatrix (0, 2, &inputPair);	printf ("# rows of out1 = %d and out2 = %d\n", out1.nRows, out2.nRows);	inputPair.nRows = LENGTH;			/* make sure to reset!!! */	inputPair.pntr[0] = data.pntr; inputPair.pntr[1] = kernel.pntr;		for (i=0; i<LENGTH; ++i)	{	kernel.pntr[i] = 0.0;		data.pntr[i] = 0.0;	}	for (i=0; i<16; ++i)	{	data.pntr[i] = (double) i;	}	kernel.pntr[0] = 1.0;	kernel.pntr[1] = 1.0;	kernel.pntr[2] = 0.5;	kernel.pntr[LENGTH-3] = 0.5;	kernel.pntr[LENGTH-2] = 1.0;	kernel.pntr[LENGTH-1] = 1.0;	PrintMatrix (&inputPair, "Input data");	ftConvolve (&inputPair, &out1, &out2);	PrintMatrix (&inputPair, "Convolution");		DisposeVector (&data);	DisposeVector (&kernel);	inputPair.nRows = 0;	DisposeMatrix (&inputPair);	DisposeMatrix (&out1);	DisposeMatrix (&out2);}/*{	 test of two FFT at once 				23 Mar 88			MATRIX mat, dest1, dest2;		AllocMatrix (LENGTH, 2, &mat);	AllocMatrix (LENGTH, 2, &dest1);	AllocMatrix (LENGTH, 2, &dest2);	for (i=0; i<LENGTH; ++i)	{	mat.pntr[REAL][i] = (double)i;		mat.pntr[IMAG][i] = (double)2*i;	}	PrintMatrix(&mat, "input data");		ftTransformPair (1, &mat, &dest1, &dest2);	PrintMatrix (&dest1, "First dest");	PrintMatrix (&dest2, "Second dest");}*//*  23 Mar 88 		use to test inversionvoid TestInversion(){		MATRIX mat;		SetupGlobals (&mat);	PrintMatrix (&mat, "Sande-Tukey FFT.");	Scramble ();	ctFFT(1);	PrintMatrix (&mat, "ctFFT of mat");	Scramble ();	ctFFT( -1);	PrintMatrix (&mat, "inverse FFT of FFT");	stFFT(1);	Scramble ();	PrintMatrix (&mat, "stFFT of mat");	stFFT( -1);	Scramble ();	PrintMatrix (&mat, "Inverse stFFT of FFT of mat");}*/	/*	 Timing comparison{		AllocMatrix (LENGTH, 2, &mat);	for (i=0; i<LENGTH; ++i)	{	mat.pntr[REAL][i] = (double)i;		mat.pntr[IMAG][i] = 0.0;	}	PrintMatrix(&mat, "input data");		SetupGlobals (&mat);		printf ("CR to start hybrid method"); Wait();	for (i = 0; i<NREPS; ++i)	{	printf("*");		stFFT ( 1);		ctFFT (-1);	}	printf ("\nDONE ST-CT....\n");	PrintMatrix (&mat, "Hybrid inverted FFT , back to input series");		printf ("CR to start CT sequence"); Wait();	for (i = 0; i<NREPS; ++i)	{	printf("*");		Scramble (); ctFFT ( 1);		Scramble (); ctFFT (-1);	}	printf ("\nDONE CT....\n");	PrintMatrix (&mat, "Cooley Tukey inverted FFT , back to input series");		for (i=0; i<LENGTH; ++i)	{	mat.pntr[REAL][i] = (double)i;		mat.pntr[IMAG][i] = 0.0;	}		printf ("CR to start ST sequence"); Wait();	for (i = 0; i<NREPS; ++i)	{	printf("*");		stFFT ( 1); Scramble();		stFFT (-1); Scramble();	}	printf ("\nDONE ST...\n");	PrintMatrix (&mat, "Sande Tukey FFT of input series");		DisposeMatrix (&mat);}*/