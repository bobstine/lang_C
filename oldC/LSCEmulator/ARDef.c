/*				arDef.c						*//*								17 Oct 87	*//*							rev	10 Mar 88	*/#include "ARDef.h"#include "Globals.h"void  arCreateScalarModel (coefs, model)Matrix *coefs;ARModel *model;{	int p, arOrder;		arOrder = coefs->nRows-1;	arAllocModel (arOrder, 1, model);	for (p=1; p<=arOrder; ++p)		model->coef.sCoef.pntr[p] = coefs->pntr[0][p];}void arCreateVectorModel (coefs, model)Matrix *coefs;ARModel *model;{	int p,r,c,  dim,arOrder;	double ***cube;		dim = coefs->nRows;	arOrder = coefs->nCols / coefs->nRows;	arAllocModel (arOrder, dim, model);	cube = model->coef.mCoef.pntr;	for (p=1; p<=arOrder; ++p)		for (c=0; c<dim; ++c)			for (r=0; r<dim; ++r)				cube[p][c][r] = coefs->pntr[c + (p-1)*dim][r];}void  arAllocModel (arOrder, dim, model)int arOrder, dim;ARModel *model;{	int r,c;		if (dim EQ 1)	{	model->type = scalar;		AllocVector (arOrder+1, &model->coef.sCoef);		model->coef.sCoef.pntr[0] = 1.0;			/* spectral form */	} else	{	model->type = multivar;		AllocCube (arOrder+1, dim, dim, &model->coef.mCoef);		for (r=0; r<dim; ++r)			for (c=0; c<dim; ++c)		/* Set initial plane to identity */			{	if (c EQ r) model->coef.mCoef.pntr[0][c][r] = 1.0;				else        model->coef.mCoef.pntr[0][c][r] = 0.0;			}	}}void  arDisposeModel (model)ARModel *model;{	if (model->type EQ scalar)		DisposeVector (&model->coef.sCoef);	else		DisposeCube (&model->coef.mCoef);}