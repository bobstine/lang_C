/*		Does not use its own .h file since want to be		able to access the usual malloc and free here.		DebugAlloc.h	*/#include <stdio.h>void PrintMemChain(void);char *MyAlloc(int nBytes);int MyFree (char *ptr);	void *malloc(size_t);void free(void *);/*	_____ Debugging memory chain to check allocations _____	*/static int newList = 1;  /* 1 = TRUE */static int totalBytes = 0;struct MEMREC {	struct MEMREC *next;	char *ptr;	int nBytes;	} MEMREC;struct MEMREC *headPtr, last;/*  ______________  Local Functions  ______________  */void CheckMemPointer (char *, char *);void LocalWait (void);/*  ________________________________________________  */void PrintMemChain(){	struct MEMREC *mp;	int i=0;		mp = headPtr;	printf ("\nDump of current memory list totaling %d bytes.\n", totalBytes);	while (mp)	{	printf ("Record #%3d with %4d bytes @location %ld\n", ++i, mp->nBytes, mp->ptr);		mp = mp->next;	}	LocalWait();}void LocalWait(){	char	ch;		printf ("Type any character to continue...\n");	scanf ("%c", &ch);}void CheckMemPointer (ptr, str)char *ptr, *str;{	struct MEMREC *mp;	int i=0;		printf (str);	mp = headPtr;	while (mp)	{	++i;		if (mp->ptr ==  ptr)		{	 printf (" --- pointer match found in record %d with %d bytes./\n", i, mp->nBytes);			return;		}		mp = mp->next;	}	printf (" --- match to pointer NOT found...\n");}char *MyAlloc(nBytes)int nBytes;{	struct MEMREC *new;	char *ptr;		if (newList)	/* Initialize the memory list */	{	newList = 0;		headPtr = &last;		last.next = NULL;		last.nBytes = -1;		last.ptr = NULL;	}	new = (struct MEMREC *) malloc(sizeof(struct MEMREC));	ptr = malloc (nBytes);	new->next = headPtr;	new->nBytes = nBytes;	new->ptr = ptr;	headPtr = new;	totalBytes += nBytes;	return (ptr);}int MyFree (ptr)char *ptr;{	struct MEMREC *mp, *nextRec;		if (ptr == headPtr->ptr)		/* check for first */	{	totalBytes -= headPtr->nBytes;		free (headPtr->ptr);		nextRec = headPtr->next;		free ( (char *) headPtr);		headPtr = nextRec;		return (1);	}	mp = headPtr;	while (mp->next)	{	if (ptr == mp->next->ptr)		/* find match */		{	totalBytes -= mp->next->nBytes;			free (mp->next->ptr);			nextRec = mp->next->next;			free ( (char *)mp->next );			mp->next = nextRec;			return (1);		}		mp = mp->next;	}	printf ("Record NOT found; suggest terminating if should be!\n");	return (-1);}			